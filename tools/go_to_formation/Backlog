Backlog Go to formation
31.03.2021


Unregelmäßiges Abstürzen der go_to_formation Funktion (double free or corruption (!prev)) -> wodurch kommt dies zustande?
	  Beobachtungen: 
	  - passiert erst zum Beenden des Programms (also eher double free?), sogar nach Rückgabe des Funktionswerts
	  - ob für alle Fahrzeuge eine gültige Trajektorie generiert werden konnte, ist nicht entscheidend (tritt in beiden Fällen auf)

Protoyp Go to formation in LCC integriert
	- go_to_formation als Funktion zu Deploy class in lab_control_center/ui/setup hinzufügen
	- Auruf go_to_formation in setupViewUi deploy_applications() einbauen

Abweichung Fahrzeuge vom letzten Trajektorienpunkt
	- Verdopplung Zeitinvall zwischen vorletztem und letztem Trajektorienpunkt führt nicht zu langsameren Fahrzeug, sondern schleifenförmigen Spline
	- Setzen der Geschwindigkeiten auf (0,0) im letzten Punkt hilft nicht
	- sieht bei Beobachtung des Abfahrens der Trajektorien in Simulation für mich eher nach einem Timing-Problem aus

Generische CMakeLists.txt
	- Soll Builden der go to formation Funktion in Abhängigkeit der generierten Bibliothek aus Matlab im Labor und bei verschiedenen Usern mit möglichst wenig händischen Anpassungen ermöglichen
	- Evtl. hilft FindMatlab Command https://cmake.org/cmake/help/latest/module/FindMatlab.html

Fehler beim Ausführen der example.m (neu 31.03.)
	- liegt hier: dev/software/tools/go_to_formation/matlab/Coder/example.m
	- trat plötzlich ab einem der letzten Commits auf. Das erste mal vor Ort im CPM Lab. Verschwand irgendwann ebenso plötzlich wieder. Trat dann auch remote auf.????????
        - Beobachtung: wenn man den entsprechenden Code aus einem Commit kopiert, 
          bei welchem dieser noch problemlos lief und ihn in die aktuelle Umgebung kopiert, tritt der Fehler auch bei diesem Code auf
	- scheint Codegenerierung nicht zu stören
	- dennoch problematisch, da zum Neugenerieren Ausführung der example.m einmal nötig, um Coder mit DDS Blocks bekannt zu machen
	- Fehlermeldung: 
	=============
	Not enough input arguments.

	Error in discretize (line 29)
	    Ac = model.A;

	Error in matlabshared.planning.internal.Path/interpolate (line 74)
		    segmentIndex = discretize(samplesAll, accumLengths);

	Error in driving.Path/interpolate (line 134)
		    [poses, directions] = interpolate@matlabshared.planning.internal.Path(...

	Error in checkPathValidity>checkPathObjectValidity (line 117)
	    refPoses = interpolate(refPath, samples);

	Error in checkPathValidity (line 82)
	    isValid = checkPathObjectValidity(refPathOrPoses, costmap);

	Error in PlanRRTPath (line 13)
	    isPathValid = checkPathValidity(refPath, costmap);

	Error in planTrajectory (line 12)
	    [refPath, isPathValid] = PlanRRTPath(vehiclePoses(egoVehicleIndex).pose, goalPose, costmap);

	Error in example (line 32)
	[trajectory_points, isPathValid] = planTrajectory(maxVehicleIdList, startPoses, goalPose, egoVehicleId, speed);
	=============


